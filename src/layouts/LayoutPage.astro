---
import Layout from './Layout.astro';

interface Props {
  title: string;
  [key: string]: any;
}

import { Picture } from 'astro:assets';

const { title, featured_image, ...props } = Astro.props;
---

<Layout title={title}>
    <!-- Specific structure for Pages -->
    <div class="page-container container mx-auto py-12">
        <header class="mb-8">
            <h1 class="text-4xl font-bold mb-6">{title}</h1>

            {featured_image && featured_image.local_url && (
                <div class="featured-image mb-8 rounded-xl overflow-hidden shadow-lg">
                    <Picture 
                        src={`http://localhost:8686${featured_image.local_url}`}
                        alt={featured_image.alt || title} 
                        width={1200}
                        height={600}
                        formats={['avif', 'webp']}
                        widths={[240, 540, 720, 1024, 1200]}
                        sizes={`(max-width: 360px) 240px, (max-width: 720px) 540px, (max-width: 1024px) 720px, 1200px`}
                        class="w-full h-auto object-cover max-h-[500px]"
                        loading="eager"
                        decoding="async"
                    />
                </div>
            )}
        </header>
        
        <main class="prose max-w-none">
            <slot />
            <div class="debug-data mt-8 p-4 bg-base-200 rounded text-xs opacity-50">
               <pre>{JSON.stringify(props, null, 2)}</pre>
            </div>
        </main>
    </div>
</Layout>
